import{useRef as t,useState as e,useEffect as r}from"react";function n(t){return"function"==typeof t}function o(o,i,u){var s=t(!1),a=e((function(){return g()})),f=a[0],c=a[1];function g(){var t=o.getItem(i);if(t)try{return JSON.parse(t)}catch(t){}return n(u)?u():u}return r((function(){s.current?c(g()):s.current=!0}),[i]),[f,function(t){if(n(t)){var e=t(g());o.setItem(i,JSON.stringify(e)),c(e)}else o.setItem(i,JSON.stringify(t)),c(t)},function(){c(void 0),o.removeItem(i)}]}function i(t,e,r){function o(){var o=t.getItem(e);if(o)try{return JSON.parse(o)}catch(t){}return n(r)?r():r}return[o(),function(r){if(n(r)){var i=r(o());t.setItem(e,JSON.stringify(i))}else t.setItem(e,JSON.stringify(r))},function(){t.removeItem(e)}]}var u=new(function(){function t(){this.storage=new Map,this.length=0}return t.prototype.getItem=function(t){return this.storage.has(t)&&this.storage.get(t)},t.prototype.setItem=function(t,e){this.storage.set(t,e),this.updateLength()},t.prototype.removeItem=function(t){this.storage.delete(t),this.updateLength()},t.prototype.clear=function(){this.storage.clear(),this.updateLength()},t.prototype.updateLength=function(){this.length=this.storage.size},t.prototype.key=function(t){var e=this.storage.keys(),r=null;if(t>this.storage.size)return r;for(var n=0;n<this.storage.size;n++){var o=e.next();if(n===t){r=o.value;break}}return r},t}());function s(t,e){return o(localStorage,t,e)}function a(t,e){return i(localStorage,t,e)}function f(t,e){return o(sessionStorage,t,e)}function c(t,e){return i(sessionStorage,t,e)}function g(t,e){return o(u,t,e)}function h(t,e){return i(u,t,e)}var p={useStorageState:o,altStorageState:i};export default p;export{h as altCacheStorageState,a as altLocalStorageState,c as altSessionStorageState,s as useLocalStorageState,f as useSessionStorageState,g as usecacheStorageState};
//# sourceMappingURL=index.js.map
